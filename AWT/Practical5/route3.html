<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple AngularJS SPA with Forms</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="../angular.main.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .menu ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            background-color: #333;
            display: flex;
            justify-content: center;
        }
        .menu li {
            margin: 0 10px;
        }
        .menu li a {
            display: block;
            color: #fff;
            text-align: center;
            padding: 10px;
            text-decoration: none;
        }
        .menu li a:hover {
            background-color: blue;
        }
        .content {
            padding: 20px;
            text-align: center;
        }
        /* Popup modal styling */
        .modal {
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.5); 
            justify-content: center; 
            align-items: center;
        }
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            width: 80%;
            max-width: 400px;
        }
        .close-btn {
            background-color: #333;
            color: #fff;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body ng-app="myapp" ng-controller="myController">

    <div class="menu">
        <ul>
            <li><a href="#!/">Home</a></li>
            <li><a href="#!Registration">Registration</a></li>
            <li><a href="#!login">Login</a></li>
            <li><a href="#!About">About Us</a></li>
        </ul>
    </div>

    <div class="content" ng-view></div>

    <!-- Modal Popup -->
    <div class="modal" id="popupModal">
        <div class="modal-content">
            <h3>{{ popupMessage }}</h3>
            <button class="close-btn" ng-click="closePopup()">Close</button>
        </div>
    </div>

    <script type="text/javascript">
        var app = angular.module("myapp", ["ngRoute"]);

        app.config(function($routeProvider) {
            $routeProvider
            .when("/", {
                template : "<h2>Welcome to the Home Page</h2><p>This is a simple AngularJS app.</p>"
            })
            .when("/Registration", {
                template : `
                    <h2>Registration Page</h2>
                    <form ng-submit="register()">
                        <label>Username:</label><br>
                        <input type="text" ng-model="registrationData.username" required><br><br>
                        <label>Password:</label><br>
                        <input type="password" ng-model="registrationData.password" required><br><br>
                        <button type="submit">Register</button>
                    </form>
                `
            })
            .when("/login", {
                template : `
                    <h2>Login Page</h2>
                    <form ng-submit="login()">
                        <label>Username:</label><br>
                        <input type="text" ng-model="loginData.username" required><br><br>
                        <label>Password:</label><br>
                        <input type="password" ng-model="loginData.password" required><br><br>
                        <button type="submit">Login</button>
                    </form>
                `
            })
            .when("/About", {
                template : "<h2>About Us</h2><p>About us page content goes here.</p>"
            })
            .otherwise({
                redirectTo: "/"
            });
        });

        app.controller('myController', function($scope) {
            // Initialize user data
            $scope.registrationData = {};
            $scope.loginData = {};
            $scope.popupMessage = '';

            // Register function
            $scope.register = function() {
                if ($scope.registrationData.username && $scope.registrationData.password) {
                    $scope.popupMessage = 'Registration Successful! Welcome, ' + $scope.registrationData.username;
                    $scope.showPopup();
                    $scope.registrationData = {}; // Clear form
                }
            };

            // Login function
            $scope.login = function() {
                if ($scope.loginData.username && $scope.loginData.password) {
                    $scope.popupMessage = 'Login Successful! Welcome back, ' + $scope.loginData.username;
                    $scope.showPopup();
                    $scope.loginData = {}; // Clear form
                }
            };

            // Function to show popup
            $scope.showPopup = function() {
                document.getElementById("popupModal").style.display = "flex";
            };

            // Function to close popup
            $scope.closePopup = function() {
                document.getElementById("popupModal").style.display = "none";
            };
        });
    </script>
</body>
</html>
